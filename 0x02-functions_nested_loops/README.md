directory of functions nested loops